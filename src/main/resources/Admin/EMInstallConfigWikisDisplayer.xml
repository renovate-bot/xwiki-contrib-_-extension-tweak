<?xml version="1.0" encoding="UTF-8"?>

<xwikidoc>
  <web>Admin</web>
  <name>EMInstallConfigWikisDisplayer</name>
  <language/>
  <defaultLanguage/>
  <translation>0</translation>
  <parent>Admin.EMInstallConfigClass</parent>
  <creator>xwiki:XWiki.Admin</creator>
  <author>xwiki:XWiki.Admin</author>
  <customClass/>
  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>
  <creationDate>1420066800000</creationDate>
  <date>1420066800000</date>
  <contentUpdateDate>1420066800000</contentUpdateDate>
  <version>1.1</version>
  <title>EMInstallConfigWikisDisplayer</title>
  <defaultTemplate/>
  <validationScript/>
  <comment/>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.1</syntaxId>
  <hidden>true</hidden>
  <content>{{velocity}}{{html}}
#if ($type == 'edit')
  #set($wikis = $services.wiki.getAll())
  &lt;ol&gt;
  #foreach($wiki in $sorttool.sort($wikis, ['id']))
    &lt;li&gt;&lt;span class="xwiki-form-listclass"&gt;
      &lt;input name="${prefix}${name}" type="checkbox" value="$!escapetool.xml($wiki.id)" class='toggleable' #if($value.contains($wiki.id)) checked="checked"#end&gt;
      $wiki.id - &lt;a href="$xwiki.getURL("${wiki.id}:Main.WebHome")"&gt;$wiki.defaultAlias&lt;/a&gt;
    &lt;/span&gt;&lt;/li&gt;
  #end
  &lt;/ol&gt;
  ## add an empty value as well, so that we can empty the selection as well, otherwise if no box is checked above, no value is sent and thus the prop is not updated
  &lt;input type="hidden" name="${prefix}${name}" value="" /&gt;
#else
  &lt;ul&gt;
    #foreach($v in $value)
      &lt;li&gt;&lt;a href="$xwiki.getURL("${v}:Main.WebHome")"&gt;$v&lt;/a&gt;&lt;/li&gt;
    #end
  &lt;/ul&gt;
#end
{{/html}}{{/velocity}}</content>
</xwikidoc>
